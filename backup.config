# Artist Tech Backup Configuration

# Backup Settings
BACKUP_ROOT="/backups"
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION_LEVEL=9

# Database Configuration
DB_HOST="${DB_HOST:-localhost}"
DB_PORT="${DB_PORT:-5432}"
DB_NAME="${DB_NAME:-artisttech}"
DB_USER="${DB_USER:-artisttech}"
DB_PASSWORD="${DB_PASSWORD}"

# File System Backup Paths
BACKUP_PATHS=(
    "/app/uploads"
    "/app/logs"
    "/app/config"
    "/app/public/assets"
)

# Exclude Patterns
BACKUP_EXCLUDES=(
    "*.tmp"
    "*.log"
    "node_modules"
    ".git"
    "*.cache"
)

# Remote Storage (Optional)
REMOTE_BACKUP_ENABLED=false
REMOTE_BACKUP_URL="s3://artisttech-backups"
REMOTE_BACKUP_REGION="us-east-1"

# Encryption Settings
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_KEY_FILE="/etc/artisttech/backup.key"

# Notification Settings
NOTIFICATION_ENABLED=true
NOTIFICATION_WEBHOOK="${NOTIFICATION_WEBHOOK}"
NOTIFICATION_EMAIL="backups@artisttech.com"

# Monitoring Settings
MONITORING_ENABLED=true
MONITORING_ENDPOINT="${MONITORING_ENDPOINT}"

# Schedule Settings
BACKUP_SCHEDULE_DAILY="02:00"  # 2 AM daily
BACKUP_SCHEDULE_HOURLY="*:00"  # Every hour
TRANSACTION_LOG_BACKUP_ENABLED=true

# Performance Settings
BACKUP_PARALLEL_JOBS=2
BACKUP_TIMEOUT_MINUTES=120

# Verification Settings
BACKUP_VERIFY_INTEGRITY=true
BACKUP_VERIFY_RESTORATION=false  # Set to true for monthly verification

# Logging
BACKUP_LOG_LEVEL="INFO"
BACKUP_LOG_FILE="/var/log/artisttech/backup.log"
BACKUP_LOG_MAX_SIZE="100MB"
BACKUP_LOG_RETENTION_DAYS=90

# Security Settings
BACKUP_RUN_AS_USER="backup"
BACKUP_UMASK="0077"

# Docker Settings (if using Docker)
DOCKER_BACKUP_ENABLED=false
DOCKER_CONTAINER_NAME="artisttech_app"
DOCKER_VOLUME_BACKUPS=(
    "artisttech_uploads:/app/uploads"
    "artisttech_logs:/app/logs"
)

# Cloud Provider Settings
AWS_BACKUP_ENABLED=false
AWS_BACKUP_BUCKET="artisttech-backups"
AWS_BACKUP_STORAGE_CLASS="STANDARD_IA"

GCP_BACKUP_ENABLED=false
GCP_BACKUP_BUCKET="artisttech-backups"
GCP_BACKUP_STORAGE_CLASS="COLDLINE"

AZURE_BACKUP_ENABLED=false
AZURE_BACKUP_CONTAINER="backups"
AZURE_BACKUP_STORAGE_ACCOUNT="artisttechbackups"

# Advanced Settings
BACKUP_INCREMENTAL_ENABLED=false
BACKUP_DIFFERENTIAL_ENABLED=true
BACKUP_SNAPSHOT_ENABLED=false

# Maintenance Settings
BACKUP_MAINTENANCE_DAY="sunday"
BACKUP_MAINTENANCE_WINDOW="03:00-05:00"

# Compliance Settings
GDPR_BACKUP_ENABLED=true
HIPAA_BACKUP_ENABLED=false
PCI_BACKUP_ENABLED=false

# Custom Scripts
PRE_BACKUP_SCRIPT=""
POST_BACKUP_SCRIPT=""
BACKUP_FAILURE_SCRIPT="/usr/local/bin/backup_failure_handler.sh"